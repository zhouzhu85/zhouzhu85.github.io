---
layout: _post
title: Spring面试题
date: 2023-12-08 22:18:00
tags:
  - Spring
  - 面试题
category: 
  - Java面试题
  - Spring
---
## Spring框架中的单例bean是线索安全的吗？
不是线索安全的
Spring框架中有一个@Scope注解，默认的值就是singleton，单例的。
因为一般在spring的bean的中都是注入无状态的对象，没有线索安全问题，如果在bean中定义了可修改的成员变量，是要考虑线索安全问题的，可以使用多例或者加锁来解决

## 什么是AOP
面向切面编程，用于将那些与业务无关，但却对多个对象产生影响的公共行为和逻辑，抽取公共模块复用，降低耦合

## 你们项目中有没有使用到AOP
记录操作日志，缓存，Sping实现的事务
核心是：使用aop中的环绕通知+切点表达式，通过环绕通知的参数获取请求方法的参数（类、方法、注解、请求方式等），获取到这些参数以后，保存到数据库。

## Spring中的事务是如何实现的
其本质是通过aop功能，对方法前后进行拦截，在执行方法之前开启事务，在执行完目标方法之后根据执行情况提交或者回滚事务。

## Spring中事务失效的场景有哪些
- 异常捕获处理，自己处理了异常，没有抛出，解决方法：手动抛出异常
- 抛出检查异常，解决方法：rollbackFor属性为Exception
- 非public方法导致的事务失效，解决方法：改为public